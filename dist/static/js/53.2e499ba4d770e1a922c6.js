webpackJsonp([53],{"6lJV":function(t,e,i){var s=i("wun0");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var r=i("rjj0").default;r("2a2fce76",s,!0,{})},D4vN:function(t,e,i){"use strict";i.d(e,"a",function(){return s}),i.d(e,"b",function(){return r});var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("yd-layout",{attrs:{id:"fAddr"}},[i("div",{staticClass:"header",attrs:{slot:"top"},slot:"top"},[i("div",["merchant"==t.$root.userInfo.typeId?i("a",{staticClass:"header_left",staticStyle:{width:"1.7rem"},attrs:{href:"#/f_mine"}},[t._v("个人中心")]):i("div")]),t._v(" "),i("div",{staticClass:"name"},[t._v(t._s(t.isEdit?t.isAdd?"新增地址信息":"编辑地址信息":"地址信息"))]),t._v(" "),i("div",["merchant"==t.$root.userInfo.typeId?i("a",{attrs:{href:"javascript:;"},on:{click:t.isEditFlg}},[t._v(t._s(t.isAdd?"":t.isEdit?"取消":"编辑"))]):i("div")])]),t._v(" "),i("yd-cell-group",[i("yd-cell-item",[i("span",{attrs:{slot:"left"},slot:"left"},[i("div",{staticClass:"lable"},[i("strong",[t._v("省/市")])])]),t._v(" "),t.isEdit?i("div",{staticClass:"item_right list_span",attrs:{slot:"right"},slot:"right"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.editForm.provinceCode,expression:"editForm.provinceCode"}],staticClass:"item_select",attrs:{name:"",id:""},on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.editForm,"provinceCode",e.target.multiple?i:i[0])},function(e){t.selectChange1(t.editForm.provinceCode)}]}},[i("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("请选择省/市(必选)")]),t._v(" "),t._l(t.provinceList,function(e){return i("option",{domProps:{value:e.areaCode}},[t._v(t._s(e.areaName))])})],2),t._v(" "),i("i",{staticClass:"icon"})]):i("span",{staticClass:"list_span",attrs:{slot:"right"},slot:"right"},[t._v(t._s(t.form.provinceName))])]),t._v(" "),i("yd-cell-item",[i("span",{attrs:{slot:"left"},slot:"left"},[i("div",{staticClass:"lable"},[i("strong",[t._v("市/区")])])]),t._v(" "),t.isEdit?i("div",{staticClass:"item_right list_span",attrs:{slot:"right"},slot:"right"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.editForm.cityCode,expression:"editForm.cityCode"}],staticClass:"item_select",attrs:{name:"",id:""},on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.editForm,"cityCode",e.target.multiple?i:i[0])},function(e){t.selectChange2(t.editForm.cityCode)}]}},[i("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("请选择市/区(必选)")]),t._v(" "),t._l(t.cityList,function(e){return i("option",{domProps:{value:e.areaCode}},[t._v(t._s(e.areaName))])})],2),t._v(" "),i("i",{staticClass:"icon"})]):i("span",{staticClass:"list_span",attrs:{slot:"right"},slot:"right"},[t._v(t._s(t.form.cityName))])]),t._v(" "),i("yd-cell-item",[i("span",{attrs:{slot:"left"},slot:"left"},[i("div",{staticClass:"lable"},[i("strong",[t._v("区/县")])])]),t._v(" "),t.isEdit?i("div",{staticClass:"item_right list_span",attrs:{slot:"right"},slot:"right"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.editForm.districCode,expression:"editForm.districCode"}],staticClass:"item_select",attrs:{name:"",id:""},on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.editForm,"districCode",e.target.multiple?i:i[0])},function(e){t.selectChange3(t.editForm.districCode)}]}},[i("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("请选择区/县(必选)")]),t._v(" "),t._l(t.districList,function(e){return i("option",{domProps:{value:e.areaCode}},[t._v(t._s(e.areaName))])})],2),t._v(" "),i("i",{staticClass:"icon"})]):i("span",{staticClass:"list_span",attrs:{slot:"right"},slot:"right"},[t._v(t._s(t.form.districName))])]),t._v(" "),i("yd-cell-item",[i("span",{attrs:{slot:"left"},slot:"left"},[i("div",{staticClass:"lable"},[i("strong",[t._v("详细地址")])])]),t._v(" "),t.isEdit?i("yd-input",{attrs:{slot:"right",required:"",max:"20","show-success-icon":!1,placeholder:"请输入(必填)"},slot:"right",model:{value:t.editForm.detailedAddress,callback:function(e){t.$set(t.editForm,"detailedAddress",e)},expression:"editForm.detailedAddress"}}):i("span",{staticClass:"list_span",attrs:{slot:"right"},slot:"right"},[t._v(t._s(t.form.detailedAddress))])],1),t._v(" "),i("yd-cell-item",[i("span",{attrs:{slot:"left"},slot:"left"},[i("div",{staticClass:"lable"},[i("strong",[t._v("完整信息")])])]),t._v(" "),t.isEdit?i("span",{staticClass:"list_span",staticStyle:{"text-align":"left"},attrs:{slot:"right"},slot:"right"},[t._v(t._s(t.editForm.areaName+(t.editForm.detailedAddress?"-"+t.editForm.detailedAddress:t.editForm.detailedAddress)||""))]):i("span",{staticClass:"list_span",attrs:{slot:"right"},slot:"right"},[t._v(t._s(t.form.completeAddress))])]),t._v(" "),i("yd-cell-item",[i("span",{attrs:{slot:"left"},slot:"left"},[i("div",{staticClass:"lable"},[i("strong",[t._v("联系人")])])]),t._v(" "),t.isEdit?i("yd-input",{attrs:{slot:"right",required:"",max:"20","show-success-icon":!1,placeholder:"请输入(必填)"},slot:"right",model:{value:t.editForm.contacts,callback:function(e){t.$set(t.editForm,"contacts",e)},expression:"editForm.contacts"}}):i("span",{staticClass:"list_span",attrs:{slot:"right"},slot:"right"},[t._v(t._s(t.form.contacts))])],1),t._v(" "),i("yd-cell-item",[i("span",{attrs:{slot:"left"},slot:"left"},[i("div",{staticClass:"lable"},[i("strong",[t._v("联系电话")])])]),t._v(" "),t.isEdit?i("yd-input",{ref:"phoneNumber",attrs:{slot:"right",required:"",regex:"mobile","show-success-icon":!1,placeholder:"请输入手机号码(必填)"},slot:"right",model:{value:t.editForm.phoneNumber,callback:function(e){t.$set(t.editForm,"phoneNumber",e)},expression:"editForm.phoneNumber"}}):i("span",{staticClass:"list_span",attrs:{slot:"right"},slot:"right"},[t._v(t._s(t.form.phoneNumber))])],1),t._v(" "),i("yd-cell-item",[i("span",{attrs:{slot:"left"},slot:"left"},[i("div",{staticClass:"lable"},[i("strong",[t._v("备注")])])]),t._v(" "),t.isEdit?i("yd-input",{attrs:{slot:"right",max:"20","show-success-icon":!1,placeholder:"请输入"},slot:"right",model:{value:t.editForm.comment,callback:function(e){t.$set(t.editForm,"comment",e)},expression:"editForm.comment"}}):i("span",{staticClass:"list_span",attrs:{slot:"right"},slot:"right"},[t._v(t._s(t.form.comment))])],1)],1),t._v(" "),t.isEdit?i("div",{staticClass:"flex flex-x-center",staticStyle:{padding:"0 0.24rem"}},[i("div",{staticClass:"loginbtn flex flex-y-center flex-x-center",on:{click:t.submit}},[i("span",[t._v("保存")])])]):t._e()],1)},r=[]},UsIn:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAYCAYAAADKx8xXAAACCUlEQVQ4T43US4vTUBQH8P9JoqAIIuPoiKMDgw4+8IELNy78BG4FN2KTDk2iTVQENwpd6EaxnabNtJ1mkvGBqAsXPvAxNp/Khai5R+5tFXWmSe8255fknPxPqFarGTMHpxJB2Qe3dP05JjzUTZoRmCwAGUBXbLP6bBJLYdI4rbO+DmC3wgzTtrwnRZhkQXf10SmiLesMTEvMjLJjeWt5WEF5eknrhGAeEDDNzAIaLTolLx6H/0BZsLLWPi6EGADYC0AQuFIx/Wgz/A9Urx0HxwBIPCMxC7hO2ev9jzdAWRD2w6O6kQ3A2KcwcM0xvc7feFOoeu61jrAhUhBJzIK56lp++BuPharnx+0FkWUpQPtH2HctvyWv5ULVc9I8DKYUwOwQ46ZreUuFUPUc1Q/pmiHxAYnBfGsiGPSD2a0aBiAsyBsx+EEhbEftOV3LUgLNjwZzzza9u7lwOW7M69BTBuZGT7rjmP793OEMJ6pSpIZCjNsVy3uY+zlUehhfQCoADME37LLfzA3Acn/ppKZrcs32jEvNhlftxY0zAvpnAqaGu0kV26qu5oa8EwVnScdHMHYB+MnEplPyn+auVSdqnSON3wPYCeAHC77slP0XuYu8EgfnM8Y7IuwA+HuW0aWri97rwl9HNw7eALgA4BsIF+2S97YIqeHUX9W3bf9qvGRQ6JjVT5MgWfMLfVbMoBCXpuUAAAAASUVORK5CYII="},dN6N:function(t,e,i){"use strict";var s=i("woOf"),r=i.n(s);e.a={data:function(){return{isEdit:!1,isAdd:!1,form:{},editForm:{longitude:"",latitude:"",customerId:"",id:"",districCode:"",districName:"",cityCode:"",cityName:"",provinceCode:"",provinceName:"",areaName:"",detailedAddress:"",contacts:"",phoneNumber:"",comment:""},provinceList:[],cityList:[],districList:[]}},created:function(){this.$store.dispatch("changeNavBarTitle","地址信息")},watch:{},computed:{},mounted:function(){this.getCustomerAddr(),this.getprovinceList()},methods:{submit:function(){if(!this.editForm.provinceCode)return this.$dialog.toast({mes:"请选择省/市",timeout:1500}),!1;if(!this.editForm.cityCode)return this.$dialog.toast({mes:"请选择市/区",timeout:1500}),!1;if(!this.editForm.districCode)return this.$dialog.toast({mes:"请选择区/县",timeout:1500}),!1;if(!this.editForm.detailedAddress)return this.$dialog.toast({mes:"请填写详细地址",timeout:1500}),!1;if(!this.editForm.contacts)return this.$dialog.toast({mes:"请填写联系人",timeout:1500}),!1;if(!this.editForm.phoneNumber)return this.$dialog.toast({mes:"请填写联系电话",timeout:1500}),!1;if(this.editForm.phoneNumber){if(!this.$refs.phoneNumber.valid)return this.$dialog.toast({mes:"请输入正确的手机号码",timeout:1500}),!1}this.save()},save:function(){var t=this,e={id:this.editForm.id,provinceCode:this.editForm.provinceCode,cityCode:this.editForm.cityCode,districCode:this.editForm.districCode,cityName:this.editForm.cityName,districName:this.editForm.districName,provinceName:this.editForm.provinceName,detailedAddress:this.editForm.detailedAddress,longitude:this.editForm.longitude,latitude:this.editForm.latitude,contacts:this.editForm.contacts,phoneNumber:this.editForm.phoneNumber,customerId:this.editForm.customerId||this.$root.userInfo.typeCode,comment:this.editForm.comment},i="address/update";this.isAdd&&(i="address/create"),this.$dialog.loading.open("数据保存中..."),this.postRequest(i,e).then(function(e){t.$dialog.loading.close(),e.data&&0==e.data.state?(t.isAdd=!1,t.isEdit=!1,"address/create"==i?t.form=e.data.aaData:t.getCustomerAddr()):t.$dialog.toast({mes:e.data.msg,timeout:1500,icon:"error"})})},selectChange1:function(t){this.editForm.cityCode="",this.editForm.districCode="",this.editForm.areaId="",this.editForm.areaName="",this.cityList=[],this.getcityList(t),this.editForm.areaId=this.editForm.provinceCode,this.editForm.areaName=this.getArea(this.editForm.provinceCode,this.provinceList)},selectChange2:function(t){this.editForm.districCode="",this.editForm.areaId="",this.editForm.areaName="",this.districList=[],t&&this.getdistricList(t),t?(this.editForm.areaId=this.editForm.provinceCode+"-"+this.editForm.cityCode,this.editForm.areaName=this.getArea(this.editForm.provinceCode,this.provinceList)+"-"+this.getArea(this.editForm.cityCode,this.cityList)):(this.editForm.areaId=this.editForm.provinceCode,this.editForm.areaName=this.getArea(this.editForm.provinceCode,this.provinceList))},selectChange3:function(t){console.log(t),this.editForm.districCode?(this.editForm.areaId=this.editForm.provinceCode+"-"+this.editForm.cityCode+"-"+this.editForm.districCode,console.log(this.getArea(this.editForm.districCode,this.districList)),this.editForm.areaName=this.getArea(this.editForm.provinceCode,this.provinceList)+"-"+this.getArea(this.editForm.cityCode,this.cityList)+"-"+this.getArea(this.editForm.districCode,this.districList)):(this.editForm.areaId=this.editForm.provinceCode+"-"+this.editForm.cityCode,this.editForm.areaName=this.getArea(this.editForm.provinceCode,this.provinceList)+"-"+this.getArea(this.editForm.cityCode,this.cityList))},getArea:function(t,e){for(var i="",s=0;s<e.length;s++)if(t==e[s].areaCode){i=e[s].areaName;break}return i},isEditFlg:function(){this.isEdit?this.isEdit=!1:(this.isEdit=!0,this.editForm=r()({},this.editForm,this.form),this.editForm=r()({},this.editForm,{areaName:this.editForm.provinceName+"-"+this.editForm.cityName+"-"+this.editForm.districName}),this.editForm.provinceCode&&this.getcityList(this.editForm.provinceCode),this.editForm.cityCode&&this.getdistricList(this.editForm.cityCode),console.log(this.editForm.districCode))},getCustomerAddr:function(){var t=this;this.postRequest("address/queryByCustomerId",{customerId:this.$root.userInfo.typeCode}).then(function(e){0==e.data.state&&(e.data.aaData?t.form=e.data.aaData:(t.isAdd=!0,t.isEdit=!0))})},getprovinceList:function(){var t=this;this.postRequest("comArea/list",{level:1}).then(function(e){e.data&&0==e.data.state&&(t.provinceList=e.data.aaData)})},getcityList:function(t){var e=this;this.postRequest("comArea/list",{parentAreaCode:t,level:2}).then(function(t){t.data&&0==t.data.state&&(e.cityList=t.data.aaData)})},getdistricList:function(t){var e=this;this.postRequest("comArea/list",{parentAreaCode:t,level:3}).then(function(t){t.data&&0==t.data.state&&(e.districList=t.data.aaData)})}}}},"hHt/":function(t,e,i){"use strict";function s(t){i("6lJV")}Object.defineProperty(e,"__esModule",{value:!0});var r=i("dN6N"),o=i("D4vN"),a=i("XyMi"),d=s,n=Object(a.a)(r.a,o.a,o.b,!1,d,null,null);e.default=n.exports},kxFB:function(t,e){t.exports=function(t){return"string"!=typeof t?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),/["'() \t\n]/.test(t)?'"'+t.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':t)}},wun0:function(t,e,i){var s=i("kxFB");e=t.exports=i("FZ+f")(!0),e.push([t.i,"#fAddr .lable{width:1.8rem;font-size:.3rem}#fAddr .list_span{text-align:right;width:100%;color:#848484;font-weight:700}#fAddr .item_right{display:-webkit-box;display:-webkit-flex;display:flex}#fAddr .item_right,#fAddr .item_right .icon{-webkit-box-align:center;-webkit-align-items:center;align-items:center}#fAddr .item_right .icon{width:.11rem;height:.2rem;display:inline-block;background:url("+s(i("UsIn"))+") no-repeat;background-size:contain;display:-webkit-box;display:-webkit-flex;display:flex}#fAddr .item_right select{color:#555}#fAddr .loginbtn{width:100%;height:.78rem;background:#6fb138;border-radius:.39rem;color:#fff;font-size:.31rem;text-align:center}","",{version:3,sources:["D:/Web/银川电子结算new/北环/前端/微信快捷下单/src/views/firstGYS/f_addr.vue"],names:[],mappings:"AACA,cACE,aAAc,AACd,eAAkB,CACnB,AACD,kBACE,iBAAkB,AAClB,WAAY,AACZ,cAAe,AACf,eAAkB,CACnB,AACD,mBAIE,oBAAqB,AACrB,qBAAsB,AACtB,YAAc,CACf,AACD,4CAPE,yBAA0B,AAC1B,2BAA4B,AACpB,kBAAoB,CAoB7B,AAfD,yBACI,aAAc,AACd,aAAc,AACd,qBAAsB,AACtB,mDAAiE,AACjE,wBAAyB,AAIzB,oBAAqB,AACrB,qBAAsB,AACtB,YAAc,CAIjB,AACD,0BACI,UAAY,CACf,AACD,iBACE,WAAY,AACZ,cAAgB,AAChB,mBAAoB,AACpB,qBAAuB,AACvB,WAAY,AACZ,iBAAmB,AACnB,iBAAmB,CACpB",file:"f_addr.vue",sourcesContent:["\n#fAddr .lable {\n  width: 1.8rem;\n  font-size: 0.3rem;\n}\n#fAddr .list_span {\n  text-align: right;\n  width: 100%;\n  color: #848484;\n  font-weight: bold;\n}\n#fAddr .item_right {\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n          align-items: center;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n}\n#fAddr .item_right .icon {\n    width: .11rem;\n    height: .2rem;\n    display: inline-block;\n    background: url(../../assets/imgs/list_icon_right.png) no-repeat;\n    background-size: contain;\n    /*position: absolute;\n\t\t\tright: 0;\n\t\t\ttop: .34rem;*/\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: flex;\n    -webkit-box-align: center;\n    -webkit-align-items: center;\n            align-items: center;\n}\n#fAddr .item_right select {\n    color: #555;\n}\n#fAddr .loginbtn {\n  width: 100%;\n  height: 0.78rem;\n  background: #6FB138;\n  border-radius: 0.39rem;\n  color: #fff;\n  font-size: 0.31rem;\n  text-align: center;\n}\n"],sourceRoot:""}])}});
//# sourceMappingURL=53.2e499ba4d770e1a922c6.js.map